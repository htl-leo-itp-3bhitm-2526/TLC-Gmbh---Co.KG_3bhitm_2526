<!doctype html>
<html lang="de">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Scene</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Nunito', sans-serif;
            font-weight: bold;
        }

        .scene {
            position: relative;
            width: 100vw;
            height: 100vh;
            overflow: hidden;
            background: red;

            margin: 0;
            padding: 0;
        }

        .bg {
            position: absolute;
            width: auto;
            height: 100%;
            object-fit: cover;
            margin: 0;
        }

        .object {
            position: absolute;
            z-index: 2;
            height: auto;
        }

        #rampatrapArm {
            transform: rotate(350deg);
            transform-origin: top left;
            animation: rotateArm 1.5s linear infinite;
        }

        @keyframes rotateArm {
            0% {
                transform: rotate(220deg);
            }

            50% {
                transform: rotate(200deg);
            }

            100% {
                transform: rotate(220deg);
            }
        }

        .textBox{
            background-color: #FAC05A;
            color: #28192F;

            display: flex;
            align-items: center;
            justify-content: center;

            height: auto;
        }

        #introduction{
            position: fixed;
            top: 5vw;
            right: 5vw;
        }
    </style>
</head>

<body>

    <div id="scene" class="scene">
        <img id="worldmap" class="bg" src="worldmap.svg" alt="">
        <a href="">
            <img id="rampatrap" class="object" src="rampatrapNoArm.svg" alt="">
        </a>
        <img id="rampatrapArm" class="object" src="rampatrapArm.svg" alt="">

        <div  class="object textBox" id="introduction">Klicke auf eine Figur!</div>
    </div>

    <script>

        function layout() {
            const backgroundWidth = 2899.2;
            const backgroundHeight = 1449.94;

            const scene = document.getElementById("scene");

            const clientWidth = scene.clientWidth;
            const clientHeight = scene.clientHeight;

            const scale = clientHeight / backgroundHeight;

            const drawnW = backgroundWidth * scale;
            const drawnH = backgroundHeight * scale;

            const offX = (clientWidth - drawnW) / 2;
            const offY = (clientHeight - drawnH) / 2;
            

            const worldmap = document.getElementById("worldmap");
            const rampatrap = document.getElementById("rampatrap");
            const rampatrapArm = document.getElementById("rampatrapArm");
            const introduction = document.getElementById("introduction");

            const rampatrapRight = 1140;
            const rampatrapBottom = 1040;
            const rampatrapWidth = 100;

            const rampatrapArmRight = 1070;
            const rampatrapArmBottom = 955;
            const rampatrapArmWidth = 25;

            const introductionWidth = 550;
            const introductionTextSize = 50;
            const introductionBorderSize = 8;
            const introductionborderRadius = 8;

            const rampatrapX = backgroundWidth - rampatrapRight;
            const rampatrapY = backgroundHeight - rampatrapBottom;

            const rampatrapArmX = backgroundWidth - rampatrapArmRight;
            const rampatrapArmY = backgroundHeight - rampatrapArmBottom;


            worldmap.style.left = offX + "px";
            worldmap.style.top = offY + "px";
            worldmap.style.height = drawnH + "px";

            rampatrap.style.left = (offX + rampatrapX * scale) + "px";
            rampatrap.style.top = (offY + rampatrapY * scale) + "px";
            rampatrap.style.width = (rampatrapWidth * scale) + "px";


            rampatrapArm.style.left = (offX + rampatrapArmX * scale) + "px";
            rampatrapArm.style.top = (offY + rampatrapArmY * scale) + "px";
            rampatrapArm.style.width = (rampatrapArmWidth * scale) + "px";

            introduction.style.width = (introductionWidth * scale) + "px";
            introduction.style.fontSize = (introductionTextSize * scale) + "px";
            introduction.style.border = (introductionBorderSize * scale) + "px solid #FED880";
            introduction.style.borderRadius = (introductionborderRadius * scale) + "px";
        }

        addEventListener("resize", layout);
        addEventListener("orientationchange", layout);
        worldmap.addEventListener("load", layout);
        rampatrap.addEventListener("load", layout);
        introduction.addEventListener("load", layout);
        layout();
    </script>


</body>

</html>